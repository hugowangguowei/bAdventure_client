<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script type="text/javascript" src="outLib/require.js"></script>
    <script type="text/javascript" src="init.js"></script>

    <!--<script type="text/javascript" src="baBasicLib/baGlobal.js"></script>-->
    <!--<script type="text/javascript" src="baBasicLib/baLayer.js"></script>-->
    <!--<script type="text/javascript" src="baBasicLib/baLib.js"></script>-->
    <!--<script type="text/javascript" src="baBasicLib/baSprite.js"></script>-->
    <!--<script type="text/javascript" src="baBasicLib/gameState.js"></script>-->

    <!--<script type="text/javascript" src="privateLib/outerStruct.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/oS_roomList.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/oS_roomMem.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/oS_selfControl.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/oS_memShow.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/basicBlock.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/bB_roomIntro.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/bB_memIntro.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/bB_memCtrl.js"></script>-->
    <!--<script type="text/javascript" src="privateLib/textBlock.js"></script>-->

    <!--<script type="text/javascript" src="gameStateMachine/GSM_gameLoading.js"></script>-->
    <!--<script type="text/javascript" src="gameStateMachine/GSM_mainShow.js"></script>-->
    <!--<script type="text/javascript" src="gameStateMachine/GSM_mainShowBasicStruct.js"></script>-->
    <!--<script type="text/javascript" src="gameStateMachine/GSM_gameStruct.js"></script>-->

    <!--<script type="text/javascript" src="socket/socket.io.js"></script>-->
    <!--<script type="text/javascript" src="socket/mainSocket.js"></script>-->
    <!--<script type="text/javascript" src="socket/ws_msg_mainShow.js"></script>-->

    <!--<script type="text/javascript" src="config/btn_event.js"></script>-->
    <!--<script type="text/javascript" src="config/controller_config.js"></script>-->
    <!--<script type="text/javascript" src="config/ID_config.js"></script>-->
    <!--<script type="text/javascript" src="config/socketConfig.js"></script>-->
    <!--<script type="text/javascript" src="config/struct_config.js"></script>-->
    <script>

        requirejs.config({
           path:{
               baBasicLib:"./baBasicLib",
               config:"./config",
               gameStateMachine:"./gameStateMachine",
               outLib:"./outLib",
               privateLib:"./privateLib",
               socket:":/socket"
           }
        });

        var global;
        require(['baBasicLib/baGlobal','baBasicLib/testObj'],function(baGlobal,testObj){
            var aa = new testObj();
            aa.printValue();
            global = baGlobal.getInstance();
            var mainDiv = document.getElementById("mainDiv");
            global.setDIV(mainDiv,"1400px","700px");
        });

        function stateM(){
            var GSM1 = require('baBasicLib/gameState');
            global.addGameStateMachine(GSM1);

            GSM1.gameStateArray = [
                {stateName:"loading",stateFunction:GSM_gameLoading},
                {stateName:"mainShow",stateFunction:GSM_mainShow},
                {stateName:"mainShowBasicStruct",stateFunction:GSM_mainShowBasicStruct},
                {stateName:"gameStruct",stateFunction:GSM_gameStruct}
            ];
            GSM1.initRoutine();
        }

        function addText(){
            var textB = global.getSpriteById("textShowTag");

            if(textB){
//                textB.hide();
                textB.addText({sender:"aa",msg:"ahaY"});
            }
        }

    </script>
</head>
<body>
<header>
    <h1>test</h1>
</header>
<article>
    <input type="button" id = "openBtn" onclick = "stateM()" value ="状态机启动">
    <hr>
    用户名：<input type="text" id = "userNameInput" value = "userName"/>
    <input type="button" id ="signInBtn" onclick="connectToServer()" value = "连接服务器"/>
    <hr>
    roomName:<input type="text" id ="createRoomName" value="roomName"/>
    memNum:<input type="text" id = "roomMemNum" value ="5"/>
    <input type="button" id = "createRoomBtn" onclick="createNewRoom()" value = "确认创建"/>
    <input type="button" id = "inputText" onclick="addText()" value="添加文字"/>
    <hr>
    <div id = "mainDiv"></div>
    <hr>
</article>
</body>
</html>